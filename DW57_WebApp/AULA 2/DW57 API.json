{"files":[{"id":"d6fa333e-2207-447c-a9c0-ed3ec7c51b8e","name":"appsscript","type":"json","source":"{\n  \"timeZone\": \"America/Sao_Paulo\",\n  \"dependencies\": {},\n  \"exceptionLogging\": \"STACKDRIVER\",\n  \"runtimeVersion\": \"V8\",\n  \"webapp\": {\n    \"executeAs\": \"USER_DEPLOYING\",\n    \"access\": \"ANYONE_ANONYMOUS\"\n  }\n}"},{"id":"6bfb5ef6-8d61-46c7-b79d-a256694ea733","name":"Código","type":"server_js","source":"// Função chamada quando a requisição é \"GET\"\n// Uso do GET precisa de um parâmetro no final \"?var\u003dvalue\": https://script.google.com/macros/s/AKfycbwAIaNwB3p92pLwcrSvlpLFMdTpdx3jBMvcM-yvc9XCZXsdbmRWISsh5miZqVSwfnDdFw/exec?nome\u003dGodofredo\n\n// Body on JSON:\n//  {\n//\t  \"nome\": \"Carlos\",\n//\t  \"idade\": 28\n//  }\n// Headers:\n// Key: Content-Type\n// Value: application/json\n\nfunction doGet(e) {\n  // \u0027e\u0027 contém parâmetros da URL\n  var parametro \u003d e.parameter.nome || \"visitante\"\n\n  var resposta \u003d {\n    metodo: \"GET\",\n    mensagem: \"Olá, \" + parametro + \"!\"\n  };\n\n  return ContentService.createTextOutput(JSON.stringify(resposta))\n                       .setMimeType(ContentService.MimeType.JSON);\n}\n\n// Função chamada quando a requisição é \"POST\"\n\nfunction doPost(e) {\n\n  // O corpo da requisição vem em: e.postData.contents\n  var dados \u003d JSON.parse(e.postData.contents);\n\n  var resposta \u003d {\n    metodo: \"POST\",\n    recebido: dados,\n    mensagem: \"Dados recebidos com sucesso!\"\n  };\n\n  return ContentService.createTextOutput(JSON.stringify(resposta))\n                       .setMimeType(ContentService.MimeType.JSON);\n}\n"}]}